{% extends "base/base.html" %}
{% load static %}
{% block extra_css %}
<link rel="stylesheet" media="screen" href="{% static 'css/loading.css' %}" />
{% endblock extra_css %}
{% block extra_head_js %}
<script>
  (function () {
    window.onload = function () {
      var preloader = document.querySelector('.page-loading');
      if (preloader) {
        preloader.classList.remove('active');
        setTimeout(function () { preloader.remove(); }, 500);
      }
    };
  })();
</script>
{% endblock extra_head_js %}
{% block body %}
<div class="page-loading active">
  <div class="page-loading-inner">
    <div class="page-spinner"></div>
    <span>لطفا منتظر باشید</span>
  </div>
</div>
<main class="page-wrapper">
  <div class="container-fluid d-flex h-100 align-items-center justify-content-center py-4 py-sm-5 bg-secondary">
    <div class="card card-body" style="max-width: 940px">
      <a class="position-absolute top-0 end-0 nav-link fs-sm py-1 px-2 mt-3 me-3" href="{% url 'home' %}">
        <i class="fi-arrow-long-right fs-base me-2"></i>برگشت
      </a>
      <div class="row mx-0 align-items-center">
        <div class="col-md-6 border-end-md p-4 p-sm-5">
          <h2 class="h3 mb-4 mb-sm-5">در سایت ما با اطمینان ثبت نام کنید.</h2>
          <ul class="list-unstyled mb-4 mb-sm-5">
            <li class="d-flex mb-2"><i class="fi-check-circle text-primary mt-1 me-2"></i><span>افزودن و ارتقا آگهی</span></li>
            <li class="d-flex mb-2"><i class="fi-check-circle text-primary mt-1 me-2"></i><span>مدیریت لیست علاقه مندی ها</span></li>
            <li class="d-flex mb-0"><i class="fi-check-circle text-primary mt-1 me-2"></i><span>ثبت نظر</span></li>
          </ul>
          <img class="d-block mx-auto rotate-img" src="{% static 'img/signin-modal/signup.svg' %}" width="344" alt="Illustration">
          <div class="mt-sm-4 pt-md-3">ثبت نام کرده اید؟ <a href="{% url 'accounts:login' %}">ورود به حساب کاربری</a></div>
        </div>
        <div class="col-md-6 px-4 pt-2 pb-4 px-sm-5 pb-sm-5 pt-md-5">
          <form method="post" action="{% url 'accounts:signup' %}" class="needs-validation" novalidate>
            {% csrf_token %}
            {% if form.non_field_errors %}
            <div class="alert alert-danger mb-4">{{ form.non_field_errors }}</div>
            {% endif %}
            <div class="mb-4">
              <label class="form-label" for="id_username">نام کاربری</label>
              <input class="form-control" type="text" name="username" id="id_username" placeholder="نام کاربری" required value="{{ form.username.value|default:'' }}" maxlength="150">
              {% if form.username.errors %}<div class="invalid-feedback d-block">{{ form.username.errors }}</div>{% endif %}
            </div>
            <div class="mb-4">
              <label class="form-label" for="id_email">پست الکترونیکی</label>
              <input class="form-control" type="email" name="email" id="id_email" placeholder="ایمیل" value="{{ form.email.value|default:'' }}">
              {% if form.email.errors %}<div class="invalid-feedback d-block">{{ form.email.errors }}</div>{% endif %}
            </div>
            <div class="mb-4">
              <label class="form-label" for="id_first_name">نام</label>
              <input class="form-control" type="text" name="first_name" id="id_first_name" placeholder="نام" value="{{ form.first_name.value|default:'' }}">
            </div>
            <div class="mb-4">
              <label class="form-label" for="id_last_name">نام خانوادگی</label>
              <input class="form-control" type="text" name="last_name" id="id_last_name" placeholder="نام خانوادگی" value="{{ form.last_name.value|default:'' }}">
            </div>
            <div class="mb-4">
              <label class="form-label" for="id_password1">رمز عبور <span class="fs-sm text-muted">حداقل 8 کاراکتر</span></label>
              <div class="password-toggle">
                <input class="form-control" type="password" name="password1" id="id_password1" minlength="8" required>
                <label class="password-toggle-btn" aria-label="Show/hide password">
                  <input class="password-toggle-check" type="checkbox"><span class="password-toggle-indicator"></span>
                </label>
              </div>
              {% if form.password1.errors %}<div class="invalid-feedback d-block">{{ form.password1.errors }}</div>{% endif %}
            </div>
            <div class="mb-4">
              <label class="form-label" for="id_password2">تایید رمز عبور</label>
              <div class="password-toggle">
                <input class="form-control" type="password" name="password2" id="id_password2" minlength="8" required>
                <label class="password-toggle-btn" aria-label="Show/hide password">
                  <input class="password-toggle-check" type="checkbox"><span class="password-toggle-indicator"></span>
                </label>
              </div>
              {% if form.password2.errors %}<div class="invalid-feedback d-block">{{ form.password2.errors }}</div>{% endif %}
            </div>
            <button class="btn btn-primary btn-lg w-100" type="submit">ثبت نام</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</main>
{% include "base/scripts.html" %}
{% endblock body %}
